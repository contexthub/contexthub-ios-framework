<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>CCHSubscriptionService Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.2 (build 963)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">ContextHub </a></h1>
				<a id="developerHome" href="../index.html">ContextHub</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">CCHSubscriptionService Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	
	
	<option value="class_methods">Class Methods</option>
	
	<option value="//api/name/sharedInstance">&nbsp;&nbsp;&nbsp;&nbsp;+ sharedInstance</option>
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/addBeaconSubscriptionForTags:completionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- addBeaconSubscriptionForTags:completionHandler:</option>
	
	<option value="//api/name/addGeofenceSubscriptionForTags:completionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- addGeofenceSubscriptionForTags:completionHandler:</option>
	
	<option value="//api/name/addSubscriptionsForTags:options:completionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- addSubscriptionsForTags:options:completionHandler:</option>
	
	<option value="//api/name/getSubscriptionsWithCompletionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- getSubscriptionsWithCompletionHandler:</option>
	
	<option value="//api/name/removeBeaconSubscriptionForTags:completionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- removeBeaconSubscriptionForTags:completionHandler:</option>
	
	<option value="//api/name/removeGeofenceSubscriptionForTags:completionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- removeGeofenceSubscriptionForTags:completionHandler:</option>
	
	<option value="//api/name/removeSubscriptionsForTags:options:completionHandler:">&nbsp;&nbsp;&nbsp;&nbsp;- removeSubscriptionsForTags:options:completionHandler:</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
</ul></li>







<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#class_methods">Class Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sharedInstance">sharedInstance</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/addBeaconSubscriptionForTags:completionHandler:">addBeaconSubscriptionForTags:completionHandler:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/addGeofenceSubscriptionForTags:completionHandler:">addGeofenceSubscriptionForTags:completionHandler:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/addSubscriptionsForTags:options:completionHandler:">addSubscriptionsForTags:options:completionHandler:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/getSubscriptionsWithCompletionHandler:">getSubscriptionsWithCompletionHandler:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/removeBeaconSubscriptionForTags:completionHandler:">removeBeaconSubscriptionForTags:completionHandler:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/removeGeofenceSubscriptionForTags:completionHandler:">removeGeofenceSubscriptionForTags:completionHandler:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/removeSubscriptionsForTags:options:completionHandler:">removeSubscriptionsForTags:options:completionHandler:</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="CCHSubscriptionService Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">CCHSubscriptionService Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">CCHSubscriptionService.h<br />CCHSubscriptionService.m</td>
</tr>
						</tbody></table></div>
					
                    
                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>The subscription service is used tell <a href="../Classes/ContextHub.html">ContextHub</a> that you want to be notified when tagged elements are created, updated, and deleted on the server.  You must enable push notifications if you want to receive updates from the server.
When server changes are made, the device is notified using a background push notification.  The subscription service will post notifications to the NSNotificationCenter when changes are detected.</p>

<h2>Notifications</h2>

<p>When you subscribe to tags, the following notifications are posted when tagged elements are created, updated, and deleted.</p>

<h3>CCHBeaconCreatedNotification</h3>

<p>the notification object is an NSDictionary representation of the beacon that was created.  The userInfo object is not set.</p>

<h3>CCHBeaconUpdatedNotification</h3>

<p>the notification object is an NSDictionary representation of the beacon that was updated.  The userInfo object is not set.</p>

<h3>CCHBeaconDeletedNotification</h3>

<p>the notification object is an id of the beacon that was deleted.  The userInfo object is not set.</p>

<h3>CCHGeofenceCreatedNotification</h3>

<p>the notification object is an NSDictionary representation of the geofence that was created.  The userInfo object is not set.</p>

<h3>CCHGeofenceUpdatedNotification</h3>

<p>the notification object is an NSDictionary representation of the geofence that was updated.  The userInfo object is not set.</p>

<h3>CCHGeofenceDeletedNotification</h3>

<p>the notification object is an id of the geofence that was deleted.  The userInfo object is not set.</p>

<h3>CCHVaultItemCreatedNotification</h3>

<p>the notification object is an NSDictionary representation of the vault item that was created.  The userInfo object is not set.</p>

<h3>CCHVaultItemUpdatedNotification</h3>

<p>the notification object is an NSDictionary of representation of the vault item that was updated.  The userInfo object is not set.</p>

<h3>CCHVaultItemDeletedNotification</h3>

<p>the notification object is an id of the vualt item that was deleted.  The userInfo object is not set.</p>

<h3>CCHDeviceCreatedNotification</h3>

<p>the notification object is an NSDictionary representation of the device that was created.  The userInfo object is not set.</p>

<h3>CCHDeviceUpdatedNotification</h3>

<p>the notification object is an NSDictionary of representation of the device that was updated.  The userInfo object is not set.</p>

<h3>CCHDeviceDeletedNotification</h3>

<p>the notification object is an id of the device that was deleted.  The userInfo object is not set.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						
						

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/sharedInstance">+&nbsp;sharedInstance</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/getSubscriptionsWithCompletionHandler:">&ndash;&nbsp;getSubscriptionsWithCompletionHandler:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/addBeaconSubscriptionForTags:completionHandler:">&ndash;&nbsp;addBeaconSubscriptionForTags:completionHandler:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/removeBeaconSubscriptionForTags:completionHandler:">&ndash;&nbsp;removeBeaconSubscriptionForTags:completionHandler:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/addGeofenceSubscriptionForTags:completionHandler:">&ndash;&nbsp;addGeofenceSubscriptionForTags:completionHandler:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/removeGeofenceSubscriptionForTags:completionHandler:">&ndash;&nbsp;removeGeofenceSubscriptionForTags:completionHandler:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/addSubscriptionsForTags:options:completionHandler:">&ndash;&nbsp;addSubscriptionsForTags:options:completionHandler:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/removeSubscriptionsForTags:options:completionHandler:">&ndash;&nbsp;removeSubscriptionsForTags:options:completionHandler:</a></code>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					
					
					<div class="section section-methods">
						<a title="Class Methods" name="class_methods"></a>
						<h2 class="subtitle subtitle-methods">Class Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/sharedInstance" title="sharedInstance"></a>
	<h3 class="subsubtitle method-title">sharedInstance</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The singleton instance of the CCHSubscriptionService.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (instancetype)sharedInstance</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The singleton instance of the CCHSubscriptionService.</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CCHSubscriptionService.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/addBeaconSubscriptionForTags:completionHandler:" title="addBeaconSubscriptionForTags:completionHandler:"></a>
	<h3 class="subsubtitle method-title">addBeaconSubscriptionForTags:completionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Subscribes the device to beacon change notifications for the specified tags.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)addBeaconSubscriptionForTags:(NSArray *)<em>tags</em> completionHandler:(void ( ^ ) ( NSError *error ))<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>tags</em></dt>
			<dd><p>An NSArray of tags.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>(optional) Is executed when the request completes.  If an error occurs, the NSError will be passed to the block.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CCHSubscriptionService.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/addGeofenceSubscriptionForTags:completionHandler:" title="addGeofenceSubscriptionForTags:completionHandler:"></a>
	<h3 class="subsubtitle method-title">addGeofenceSubscriptionForTags:completionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Subscribes the device to geofence change notifications for the specified tags.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)addGeofenceSubscriptionForTags:(NSArray *)<em>tags</em> completionHandler:(void ( ^ ) ( NSError *error ))<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>tags</em></dt>
			<dd><p>An NSArray of tags</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>(optional) Is executed when the request completes.  If an error occurs, the NSError will be passed to the block.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CCHSubscriptionService.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/addSubscriptionsForTags:options:completionHandler:" title="addSubscriptionsForTags:options:completionHandler:"></a>
	<h3 class="subsubtitle method-title">addSubscriptionsForTags:options:completionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Subscribes the device to change notifications for the specified tags.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)addSubscriptionsForTags:(NSArray *)<em>tags</em> options:(NSArray *)<em>options</em> completionHandler:(void ( ^ ) ( NSError *error ))<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>tags</em></dt>
			<dd><p>An NSArray of tags</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>options</em></dt>
			<dd><p>(optional) an NSArray of the elements that you want to subscribe to. (CCHOptionBeacon, CCHOptionGeofence, CCHOptionVault, CCHOptionDevice)</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>(optional) Is executed when the request completes.  If an error occurs, the NSError will be passed to the block.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<div class="note"><p><strong>Note:</strong> This will turn on background push notifications for all elements that have tags matching the tags array specified.  You must enable push notifications, enbale remote notifications and background fetch capabilites, and you must call application:didReceiveRemoteNotification:completionHandler: on <a href="../Classes/CCHPush.html">CCHPush</a>.</p></div>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CCHSubscriptionService.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/getSubscriptionsWithCompletionHandler:" title="getSubscriptionsWithCompletionHandler:"></a>
	<h3 class="subsubtitle method-title">getSubscriptionsWithCompletionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Gets all subscriptions for the current device.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)getSubscriptionsWithCompletionHandler:(void ( ^ ) ( NSDictionary *subscriptions , NSError *error ))<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>executed when the request completes.  The block is passed an NSDictionary of subscriptions.  If an error occurs, the NSError will be passed to the block.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<div class="note"><p><strong>Note:</strong> Access individual subscriptions using &ldquo;BeaconSubscription&rdquo; and &ldquo;GeofenceSubscription&rdquo; keys</p></div>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CCHSubscriptionService.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/removeBeaconSubscriptionForTags:completionHandler:" title="removeBeaconSubscriptionForTags:completionHandler:"></a>
	<h3 class="subsubtitle method-title">removeBeaconSubscriptionForTags:completionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Unsubscribes the device from beacon change notifications for the specified tags.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)removeBeaconSubscriptionForTags:(NSArray *)<em>tags</em> completionHandler:(void ( ^ ) ( NSError *error ))<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>tags</em></dt>
			<dd><p>An NSArray of tags.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>(optional) Is executed when the request completes.  If an error occurs, the NSError will be passed to the block.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CCHSubscriptionService.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/removeGeofenceSubscriptionForTags:completionHandler:" title="removeGeofenceSubscriptionForTags:completionHandler:"></a>
	<h3 class="subsubtitle method-title">removeGeofenceSubscriptionForTags:completionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Unubscribes the device from geofence change notifications for the specified tags.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)removeGeofenceSubscriptionForTags:(NSArray *)<em>tags</em> completionHandler:(void ( ^ ) ( NSError *error ))<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>tags</em></dt>
			<dd><p>An NSArray of tags.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>(optional) Is executed when the request completes.  If an error occurs, the NSError will be passed to the block.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CCHSubscriptionService.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/removeSubscriptionsForTags:options:completionHandler:" title="removeSubscriptionsForTags:options:completionHandler:"></a>
	<h3 class="subsubtitle method-title">removeSubscriptionsForTags:options:completionHandler:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Unsubscribes the device from change notifications for the specified tags.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)removeSubscriptionsForTags:(NSArray *)<em>tags</em> options:(NSArray *)<em>options</em> completionHandler:(void ( ^ ) ( NSError *error ))<em>completionHandler</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>tags</em></dt>
			<dd><p>An NSArray of tags</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>options</em></dt>
			<dd><p>(optional) an NSArray of the elements that you want to unsubscribe from. (CCHOptionBeacon, CCHOptionGeofence, CCHOptionVault, CCHOptionDevice)</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionHandler</em></dt>
			<dd><p>(optional) Is executed when the request completes.  If an error occurs, the NSError will be passed to the block.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CCHSubscriptionService.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
                    
                    
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2015 ContextHub. All rights reserved. (Last updated: 2015-01-02)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2 (build 963)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>